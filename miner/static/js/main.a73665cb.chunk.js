(this["webpackJsonpweb-miner"]=this["webpackJsonpweb-miner"]||[]).push([[0],{100:function(e,n){function t(e){return e.toString(2).length}function c(e,n){return t(e)-t(n)}function r(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,r=c(e,n),i=t-r;i>0?e<<=BigInt(i):i<0&&(n<<=BigInt(-i));var a=Number(e/n);return i>0?a>>=i:i<0&&(a<<=-i),a}function i(e,n){return e=e.toString(),0===n?e:n>0?e+"0".repeat(n):(n=-n,e.length<=n?0:e.substring(0,e.length-n))}function a(e,n){if(e=e.toString(),0==n)return e;var t="",c=e.indexOf(".");return c>=0&&(t=e.substring(c+1),e=e.substring(0,c)),n>0?n<t.length?(e+=t.substring(0,n),t=t.substring(n+1),0==(e=e.replace(/^0+/g,"")).length&&(e="0"),e+"."+t):(0==(e=(e=i(e+t,n-t.length)).replace(/^0+/g,"")).length&&(e="0"),e):(n=-n)<e.length?(t=e.substring(e.length-n)+t,e=e.substring(0,e.length-n),(t=t.replace(/0+$/g,"")).length>0&&(e+="."+t),e):(t=(t="0".repeat(n-e.length)+e+t).replace(/0+$/g,"")).length>0?"0."+t:"0"}function s(e,n){return e?((e=String(e)).startsWith("0x")&&(e=BigInt(e).toString()),"-"==e[0]?"-"+a(e.substring(1),n):a(e,n)):0}function o(e){var n=e.indexOf(".");return n<0?0:e.length-n}e.exports={thousands:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,t=(e+="").split("."),c=t[0],r=t.length>1?"."+t[1]:"";r.length>n+1&&(r=r.substring(0,n+1));for(var i=/(\d+)(\d{3})/;i.test(c);)c=c.replace(i,"$1,$2");return c+r},div:function(e,n,t){return 0==e?0:e<n?1/r(n,e,t):r(e,n,t)},intShift:i,decShift:s,floor:function(e){var n=e.indexOf(".");return n<0?e:e.slice(0,n)},mul:function(e,n){"string"!==typeof e&&(e=e.toString()),"string"!==typeof n&&(n=n.toString());var t=o(e);t>0&&(e=s(e,t));var c=o(n);c>0&&(n=s(n,c));var r=(BigInt(e)*BigInt(n)).toString(),i=t+c;return i>0&&(r=s(r,-i)),r},precision:function(e,n){var t=e.indexOf(".");if(t<0)return e+"."+"0".repeat(n);var c=e.substring(t+1);return c.length==n?e:c.length>n?e.substring(t+n)+1:e+"0".repeat(n-c.length)}}},192:function(e,n,t){"use strict";(function(e){var c=t(34),r=t(10),i=(t(215),t(216),t(15)),a=t.n(i),s=t(193),o=t.n(s),u=t(38),l=t(101),f=t(200),b=t(74),h=t(105),j=t(195),d=t.n(j),g=t(134),v=t(196),O=t.n(v),p=t(100);function x(e){var n=new l.a(e);return n.pollingInterval=12e3,n}function m(){var n=Object(u.c)(),t=n.account,i=n.library,s=Object(b.useLocalStorage)("pubkeys",{}),l=Object(c.a)(s,2),j=l[0],v=l[1],x=a.a.useState(j),m=Object(c.a)(x,2),C=m[0],y=m[1],S=["BTC","BTC-TEST"],k=S[1],w=Object(b.useLocalStorage)("cointype",k),B=Object(c.a)(w,2),N=B[0],I=B[1],E=a.a.useState(N),P=Object(c.a)(E,2),T=P[0],A=P[1],L=a.a.useState(),F=Object(c.a)(L,2),K=F[0],M=F[1],H=Object(b.useLocalStorage)("apiKeys"),$=Object(c.a)(H,1)[0],W=a.a.useState(),z=Object(c.a)(W,2),D=z[0],J=z[1];function R(){if(K&&$.CryptoAPIs){var e=new O.a($.CryptoAPIs),n="BTC"===T?e.BC.BTC.NETWORKS.MAINNET:e.BC.BTC.NETWORKS.TESTNET;return e.BC.BTC.switchNetwork(n),J(void 0),e.BC.BTC.address.getInfo(K.address).then(console.dir).catch(console.error),function(){!0}}}a.a.useEffect((function(){if(t&&i){if(C[t])return function(){};var e=!1,n="Please sign this message to provide the public key of your miner account.",c=h.a.utils.hashMessage(n);return i.getSigner(t).signMessage(n).then((function(n){if(!e){var t=h.a.utils.recoverPublicKey(c,n),r=h.a.utils.computeAddress(t);C[r]=t,y(C),v(C)}})).catch((function(e){window.alert("Failure!"+(e&&e.message?"\n\n".concat(e.message):""))})),function(){e=!0}}}),[t,i]),a.a.useEffect((function(){if(t&&C){var n=C[t];if(n&&T)try{M(function(n,t){var c=d()(t),r={messagePrefix:c.messagePrefix,bech32:c.bech32,bip32:c.versions.bip32,pubKeyHash:c.versions.public,scriptHash:c.versions.scripthash,wif:c.versions.private},i=g.ECPair.fromPublicKey(e.from(n.substring(2),"hex"));return g.payments.p2pkh({pubkey:i.publicKey,network:r})}(n,T))}catch(c){console.error(c),delete C[t],y(C)}}}),[t,C,T]),a.a.useEffect(R,[K]);var Y=!D,q=D&&D.err,G=D&&!D.err;return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(f.a,{}),Object(r.jsx)("div",{className:"spacing flex-container",children:!!C[t]&&Object(r.jsxs)("span",{className:"ellipsis",children:["PublicKey: ",C[t]]})}),Object(r.jsxs)("div",{className:"spacing flex-container",children:[Object(r.jsxs)("div",{className:"flex-container",children:["Network:\xa0",Object(r.jsx)(o.a,{options:S,onChange:function(e){A(e.value),I(e.value)},value:T,placeholder:"Mining coin"})]}),!!K&&Object(r.jsxs)("span",{className:"ellipsis",children:["Sender: ",K.address]}),Object(r.jsx)("div",{children:Y?Object(r.jsx)("div",{className:"lds-dual-ring"}):Object(r.jsx)("button",{onClick:R,children:"Fetch"})})]}),Object(r.jsxs)("div",{className:"spacing flex-container",children:[q&&Object(r.jsx)("span",{className:"error",children:D.err.toString()}),G&&Object(r.jsxs)("span",{children:["Sender Balance: ",Object(p.decShift)(D.balance,-8)]})]})]})}n.a=function(){return Object(r.jsx)(u.b,{getLibrary:x,children:Object(r.jsx)(m,{})})}}).call(this,t(12).Buffer)},200:function(e,n,t){"use strict";t.d(n,"a",(function(){return m}));var c=t(34),r=t(10),i=t(15),a=t.n(i),s=t(38),o=t(90),u=new o.a({supportedChainIds:[1,3,4,5,42]});function l(){var e=Object(s.c)(),n=e.activate,t=e.active,r=Object(i.useState)(!1),a=Object(c.a)(r,2),o=a[0],l=a[1];return Object(i.useEffect)((function(){u.isAuthorized().then((function(e){e?n(u,void 0,!0).catch((function(){l(!0)})):l(!0)}))}),[]),Object(i.useEffect)((function(){!o&&t&&l(!0)}),[o,t]),o}function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Object(s.c)(),t=n.active,c=n.error,r=n.activate;Object(i.useEffect)((function(){var n=window.ethereum;if(n&&n.on&&!t&&!c&&!e){var i=function(){console.log("Handling 'connect' event"),r(u)},a=function(e){console.log("Handling 'chainChanged' event with payload",e),r(u)},s=function(e){console.log("Handling 'accountsChanged' event with payload",e),e.length>0&&r(u)},o=function(e){console.log("Handling 'networkChanged' event with payload",e),r(u)};return n.on("connect",i),n.on("chainChanged",a),n.on("accountsChanged",s),n.on("networkChanged",o),function(){n.removeListener&&(n.removeListener("connect",i),n.removeListener("chainChanged",a),n.removeListener("accountsChanged",s),n.removeListener("networkChanged",o))}}}),[t,c,e,r])}var b=t(100),h=t(74);function j(e){return e instanceof o.b?"No Ethereum browser extension detected, install MetaMask on desktop or visit from a dApp browser on mobile.":e instanceof s.a?"You're connected to an unsupported network.":e instanceof o.c?"Please authorize this website to access your Ethereum account.":(console.error(e),"An unknown error occurred. Check the console for more details.")}function d(){var e=Object(s.c)(),n=e.connector,t=e.activate,i=e.deactivate,o=e.active,b=e.error,h=a.a.useState(),d=Object(c.a)(h,2),g=d[0],v=d[1];a.a.useEffect((function(){g&&g===n&&v(void 0)}),[g,n]);var O=l();f(!O||!!g);var p=u,x=p===g,m=!O||!!g||p===n||!!b;return Object(r.jsxs)("div",{style:{display:"flex-wrap"},children:[Object(r.jsxs)("span",{children:["Status: ",o?"\u2705":b?"\ud83d\udd34"+j(b):"\u274c"]}),!!o||!!b||Object(r.jsx)("button",{disabled:m,onClick:function(){v(p),t(p)},children:x?Object(r.jsx)("div",{className:"lds-dual-ring"}):"Connect"}),(o||b)&&Object(r.jsx)("button",{onClick:function(){i()},children:"Disconnect"})]})}function g(){var e=Object(s.c)().chainId;return e?Object(r.jsxs)("span",{children:["Chain Id: ",e]}):Object(r.jsx)(r.Fragment,{})}function v(){var e=Object(s.c)(),n=e.chainId,t=e.library,i=a.a.useState(),o=Object(c.a)(i,2),u=o[0],l=o[1];return a.a.useEffect((function(){if(t){var e=!1;t.getBlockNumber().then((function(n){e||l(n)})).catch((function(){e||l(null)}));var n=function(e){l(e)};return t.on("block",n),function(){e=!0,t.removeListener("block",n),l(void 0)}}}),[t,n]),isNaN(u)?Object(r.jsx)(r.Fragment,{}):Object(r.jsxs)("span",{children:["Block Number: ",u]})}function O(){var e=Object(s.c)().account;return e?Object(r.jsxs)("span",{children:["Account: ",e.substring(0,8),"...",e.substring(e.length-6)]}):Object(r.jsx)(r.Fragment,{})}function p(){var e=Object(s.c)(),n=e.account,t=e.library,i=e.chainId,o=a.a.useState(),u=Object(c.a)(o,2),l=u[0],f=u[1];return a.a.useEffect((function(){if(n&&t){var e=!1;return t.getBalance(n).then((function(n){e||f(Object(b.decShift)(n,-18))})).catch((function(){e||f(null)})),function(){e=!0,f(void 0)}}}),[n,t,i]),isNaN(l)?Object(r.jsx)(r.Fragment,{}):Object(r.jsxs)("span",{children:["Balance: ",l]})}function x(){var e=Object(h.useLocalStorage)("apiKeys",{}),n=Object(c.a)(e,2),t=n[0],i=n[1],s=a.a.useState(t),o=Object(c.a)(s,2),u=o[0],l=o[1];function f(e){var n=window.prompt("API key for ".concat(e,":"),u[e]);null!=n&&(u[e]=n,l(u),i(u))}return Object(r.jsxs)("div",{className:"flex-container",children:[Object(r.jsx)("span",{children:"API Keys:"}),Object(r.jsxs)("span",{children:["\xa0",u.BlockCypher?"\u2705":"\u274c",Object(r.jsx)("button",{onClick:function(){return f("BlockCypher")},children:"BlockCypher"})]}),Object(r.jsxs)("span",{children:["\xa0",u.CryptoAPIs?"\u2705":"\u274c",Object(r.jsx)("button",{onClick:function(){return f("CryptoAPIs")},children:"CryptoAPIs"})]})]})}function m(){var e=Object(s.c)().connector,n=a.a.useState(),t=Object(c.a)(n,2),i=t[0],o=t[1];return a.a.useEffect((function(){i&&i===e&&o(void 0)}),[i,e]),f(!l()||!!i),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"spacing flex-container",children:[Object(r.jsx)(d,{}),Object(r.jsx)(g,{}),Object(r.jsx)(v,{}),Object(r.jsx)(O,{}),Object(r.jsx)(p,{}),Object(r.jsx)(x,{})]})})}},212:function(e,n,t){},215:function(e,n,t){},216:function(e,n,t){},250:function(e,n){},252:function(e,n){},262:function(e,n){},264:function(e,n){},276:function(e,n){},279:function(e,n){},405:function(e,n,t){"use strict";t.r(n);var c=t(10),r=t(15),i=t.n(r),a=t(191),s=t.n(a),o=(t(212),t(192)),u=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,408)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,i=n.getLCP,a=n.getTTFB;t(e),c(e),r(e),i(e),a(e)}))};s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(o.a,{})}),document.getElementById("root")),u()}},[[405,1,2]]]);